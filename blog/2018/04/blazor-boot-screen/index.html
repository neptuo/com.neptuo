
<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">

    <title>Blazor and the booting screen - Neptuo</title>
    
    <link rel="shortcut icon" type="image/x-icon" href="/Content/Images/favicon.png" />

    <link href="/Content/bootstrap.min.css" rel="stylesheet" />
    <link href="/Content/bootstrap-theme.min.css" rel="stylesheet" />
    <link href="/Content/web.css" rel="stylesheet" />

    <link rel="alternate" type="application/rss+xml" title="Neptuo Blog" href="https://www.neptuo.com/blog/atom.xml" />
</head>
<body>

    <nav class="navbar navbar-fixed-top" role="navigation">
        <div class="container">
            <button class="navbar-toggle">
                <span class="glyphicon glyphicon-menu-hamburger"></span>
            </button>

            <ul class="left">
                    <li>
        <a href="/">
            <div class="maintext">
                Home
                <span class="glyphicon glyphicon-home"></span>
            </div>
            <div class="subtext">How can we help you?</div>
        </a>
    </li>

            </ul>
            <ul class="right">
                    <li>
        <a href="/project">
            <div class="maintext">
                Projects
                <span class="glyphicon glyphicon-cloud"></span>
            </div>
            <div class="subtext">Projects we are working on</div>
        </a>
    </li>

                    <li>
        <a href="/service">
            <div class="maintext">
                Services
                <span class="glyphicon glyphicon-globe"></span>
            </div>
            <div class="subtext">Our services and references</div>
        </a>
    </li>

                    <li class="active">
        <a href="/blog">
            <div class="maintext">
                Blog
                <span class="glyphicon glyphicon-bookmark"></span>
            </div>
            <div class="subtext">Thoughts to share</div>
        </a>
    </li>

            </ul>
        </div>
    </nav>

    <div class="body">
        <form>

            

<div class="intro important blogpost">
    <div class="intro-content container">
        <h1>Blazor and the booting screen</h1>
        <p>
            
      A first tip in a possible Blazor serie is about configuring loading screen.
      A replacement of the default &quot;Loading...&quot; with something more eye catching.
    
        </p>
    </div>
</div>


<div class="container">
    <div class="folder blogpost">
        <blockquote>
<p><a href="https://github.com/aspnet/Blazor">Blazor</a> is an experimental Web UI framework from Microsoft. There are plenty of posts about so I'm not going to describe it and I'm directly heading to my topic.</p>
</blockquote>
<p>When you create an empty Blazor application from template and run it, it simply shows &quot;Loading...&quot; while downloading whole the application to the browser. As it could be a (very) few megabytes, so it can be shown for a little while.</p>
<p><img src="/Content/Images/Blog/blazor-boot-screen/basic.png" alt="Basic loading screen" /></p>
<p>It doesn't look great and it can be very easily fixed/enhanced. This &quot;Loading...&quot; text comes from <code>index.html</code> in your project. The pre-generated one looks like this:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
    &lt;title&gt;BlazorHosted.CSharp&lt;/title&gt;
    &lt;base href=&quot;/&quot; /&gt;
    &lt;link href=&quot;css/bootstrap/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; /&gt;
    &lt;link href=&quot;css/site.css&quot; rel=&quot;stylesheet&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;app&gt;Loading...&lt;/app&gt;

    &lt;script src=&quot;css/bootstrap/bootstrap-native.min.js&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;blazor-boot&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>As you can see, the text is placed in <code>&lt;app&gt;</code> tags. This element is replaced once Blazor is bootstrapped. Anything you place between these tags will be shown between first page load and Blazor bootstrap finish.</p>
<p>In our <a href="http://money.neptuo.com">Money - experimental outcome manager</a> - we have replaced the default text with this one.</p>
<p><img src="/Content/Images/Blog/blazor-boot-screen/money.png" alt="Money loading screen" /></p>
<p>Once bootstrap is finished and an application is loaded, it smoothly transitions to full layout.</p>
<p><img src="/Content/Images/Blog/blazor-boot-screen/money-loaded.png" alt="Money loaded screen" /></p>
<p>The source code (<a href="https://github.com/maraf/Money/blob/master/src/Money.UI.Blazor/wwwroot/index.html">taken from github</a>) looks like this:</p>
<pre><code class="language-html">...
&lt;body&gt;
    &lt;app&gt;
        &lt;nav class=&quot;navbar navbar-inverse navbar-fixed-top&quot;&gt;
            &lt;div class=&quot;container&quot;&gt;
                &lt;div class=&quot;navbar-header&quot;&gt;
                    &lt;a class=&quot;navbar-brand&quot;&gt;Money&lt;/a&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/nav&gt;
        &lt;div class=&quot;container body-content&quot;&gt;
            &lt;p&gt;
                &lt;h1 class=&quot;center&quot;&gt;Loading...&lt;/h1&gt;
            &lt;/p&gt;
            &lt;hr /&gt;
            &lt;footer&gt;
                &lt;p&gt;&amp;copy; 2018 - Money&lt;/p&gt;
            &lt;/footer&gt;
        &lt;/div&gt;
    &lt;/app&gt;
...
</code></pre>
<p>It is a simplified copy of Blazor main layout from <a href="https://github.com/maraf/Money/blob/master/src/Money.UI.Blazor/Shared/_Layout.cshtml">_layout.cshtml</a> and also server side <a href="https://github.com/maraf/Money/blob/master/src/Money.UI.Backend/Views/Shared/_Layout.cshtml">_layout.cshtml</a>.</p>
<h3>A side note on replacing &lt;app&gt; tag</h3>
<p>This tag is not replaced magically. The replacement is defined in <code>Program.cs</code> in method <code>Main</code> at the last line from template.</p>
<div class="highlight csharp"><pre>
<span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">Program</span>
{
    <span class="keyword">static</span> <span class="keyword">void</span> <span class="identifier">Main</span>(<span class="keyword">string</span>[] args)
    {
        <span class="keyword">var</span> serviceProvider = <span class="keyword">new</span> BrowserServiceProvider(configure =&gt;
        {
            <span class="comment">// Add any custom services here</span>
        });

        <span class="keyword">new</span> BrowserRenderer(serviceProvider).AddComponent&lt;App&gt;(<span class="string">&quot;app&quot;</span>);
    }
}

</pre></div>
<h2>Summary</h2>
<p>That's it. It's this simple to create more eye-catchy booting screens.</p>

    </div>

    <div class="folder">
        <div class="left">
            Posted on 2018-04-26
        </div>
        <div class="right">
            Written by <a target="_blank" rel="nofollow" href="https://github.com/maraf">Maraf</a>
        </div>
        <div class="clear"></div>
    </div>

</div>




        </form>
    </div>

    <footer>
        <div class="container">
            <div class="left">
                <span>Neptuo &copy; 2010 - 2016</span>
                
            </div>
            <div class="right">
                <span>Created by <a target="_blank" href="https://mara.neptuo.com">Marek Fi≈°era</a></span>
                
            </div>
            <div class="center">
                
    <span><a href="/blog/atom.xml">Atom</a></span>

            </div>
            <div class="clear"></div>
        </div>
    </footer>

    <script>

        function onSwitcherClicked(e) {
            var folder = this.parentElement.parentElement;
            folder.classList.toggle('folder-collapsed');
        }

        var switchers = document.querySelectorAll('.folder-switch');
        for (var i = 0; i < switchers.length; i++) {
            var switcher = switchers[i];
            switcher.addEventListener('click', onSwitcherClicked);
        }

        var navbarToggle = document.querySelector("button.navbar-toggle");
        if (navbarToggle != null) {
            navbarToggle.addEventListener('click', function (e) {
                var navbar = document.querySelector("nav");
                navbar.classList.toggle('navbar-expanded');
            });
        }

    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-12031460-1', 'auto');
    </script>
        <script>
            ga('send', 'pageview');
        </script>
    


    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "Organization",
            "url": "http://www.neptuo.com",
            "logo": "/Content/Images/Logo-220.png"
        }
    </script>
</body>
</html>